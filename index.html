<!DOCTYPE html>
<html lang="de-AT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brunz-Rechner 3000</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="container">
    <h1>Brunz-Rechner 3000</h1>
    <div class="subtitle">Abteilung FlÃ¼ssigkeitsmanagement</div>

    <div style="background: #252525; padding: 10px; border-radius: 8px; margin-bottom: 15px;">
        <label for="bladderCap">Dein Tankvolumen (ml):</label>
        <select id="bladderCap">
            <option value="300">300ml (Konfirmanden-Blase)</option>
            <option value="500" selected>500ml (Standard Wappla)</option>
            <option value="700">700ml (Bunker-Profi)</option>
            <option value="1000">1000ml (Elefanten-Modus)</option>
        </select>
    </div>

    <label for="drinkType">Was wird gesoffen?</label>
    <select id="drinkType">
        <option value="1.0">Wasser / Kracherl (Faktor 1.0)</option>
        <option value="1.4" selected>Bier / Seidl / HÃ¼lse (Faktor 1.4)</option>
        <option value="1.2">Kaffee / Energy (Faktor 1.2)</option>
        <option value="1.6">Schnaps / Harter Alk (Faktor 1.6)</option>
    </select>

    <div>
        <label for="amount">Menge: <span id="amountValue">500</span> ml</label>
        <input type="range" id="amount" value="500" min="50" max="1000" step="10" oninput="updateSliderValue()">
        <div style="display: flex; justify-content: space-between; font-size: 0.75em; color: #888; margin-top: -5px;">
            <span id="sliderMin">50ml</span>
            <span id="sliderMax">1000ml</span>
        </div>
    </div>

    <div style="margin-top: 15px;">
        <label>Zeitangabe:</label>
        <div style="display: flex; gap: 10px; margin-top: 10px;">
            <button id="timeModeClock" class="time-mode-btn active" onclick="switchTimeMode('clock')">ğŸ• Uhrzeit</button>
            <button id="timeModeTimer" class="time-mode-btn" onclick="switchTimeMode('timer')">â±ï¸ Timer</button>
        </div>
    </div>

    <div id="timeInputClock" style="margin-top: 10px;">
        <label for="timeClock">Uhrzeit (wann getrunken?):</label>
        <input type="time" id="timeClock">
    </div>

    <div id="timeInputTimer" style="margin-top: 10px; display: none;">
        <label for="timeTimer">Vor wie vielen Minuten?</label>
        <div style="display: flex; gap: 10px; align-items: center; margin-top: 12px;">
            <div style="flex: 1; text-align: center;">
                <div id="timerDisplayContainer" onclick="showTimerInput()" style="cursor: pointer; user-select: none;" title="Klicken zum manuellen Eingeben">
                    <div style="font-size: 2.5em; font-weight: bold; color: var(--accent); margin-bottom: 8px; font-family: 'Courier New', monospace;">
                        <span id="timerDisplay">0</span> <span style="font-size: 0.5em; color: #888;">Min</span>
                    </div>
                    <div style="font-size: 0.75em; color: #666; margin-top: -5px;">âœï¸ Klicken zum Bearbeiten</div>
                </div>
                <div id="timerInputContainer" style="display: none;">
                    <input type="number" id="timeTimerManual" min="0" step="1" 
                           style="width: 150px; padding: 15px; font-size: 2em; text-align: center; font-weight: bold; 
                                  background: #2a2a2a; border: 3px solid var(--accent); border-radius: 10px; 
                                  color: var(--accent); font-family: 'Courier New', monospace;"
                           onblur="hideTimerInput()" 
                           onkeypress="if(event.key==='Enter') this.blur();">
                    <div style="font-size: 0.8em; color: #888; margin-top: 5px;">Enter oder Klick auÃŸerhalb zum BestÃ¤tigen</div>
                </div>
                <input type="number" id="timeTimer" value="0" min="0" step="1" style="display: none;">
            </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 12px;">
            <button type="button" class="timer-btn-minus" onclick="adjustTimer(-60)" title="1 Stunde weniger">
                <div style="font-size: 0.7em;">âˆ’ 1h</div>
                <div style="font-size: 1.2em; font-weight: bold;">60</div>
            </button>
            <button type="button" class="timer-btn-minus" onclick="adjustTimer(-10)" title="10 Minuten weniger">
                <div style="font-size: 1.3em; font-weight: bold;">âˆ’10</div>
            </button>
            <button type="button" class="timer-btn-minus" onclick="adjustTimer(-5)" title="5 Minuten weniger">
                <div style="font-size: 1.3em; font-weight: bold;">âˆ’5</div>
            </button>
            <button type="button" class="timer-btn-minus" onclick="adjustTimer(-1)" title="1 Minute weniger">
                <div style="font-size: 1.3em; font-weight: bold;">âˆ’1</div>
            </button>
        </div>
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 8px;">
            <button type="button" class="timer-btn-plus" onclick="adjustTimer(1)" title="1 Minute mehr">
                <div style="font-size: 1.3em; font-weight: bold;">+1</div>
            </button>
            <button type="button" class="timer-btn-plus" onclick="adjustTimer(5)" title="5 Minuten mehr">
                <div style="font-size: 1.3em; font-weight: bold;">+5</div>
            </button>
            <button type="button" class="timer-btn-plus" onclick="adjustTimer(10)" title="10 Minuten mehr">
                <div style="font-size: 1.3em; font-weight: bold;">+10</div>
            </button>
            <button type="button" class="timer-btn-plus" onclick="adjustTimer(60)" title="1 Stunde mehr">
                <div style="font-size: 0.7em;">+ 1h</div>
                <div style="font-size: 1.2em; font-weight: bold;">60</div>
            </button>
        </div>
        <button type="button" onclick="resetTimer()" style="width: 100%; margin-top: 12px; padding: 10px; background: #2a2a2a; color: #888; border: 2px solid #444; border-radius: 8px; cursor: pointer; font-size: 0.95em; transition: all 0.2s ease;" onmouseover="this.style.background='#333'; this.style.borderColor='#555'; this.style.color='#aaa';" onmouseout="this.style.background='#2a2a2a'; this.style.borderColor='#444'; this.style.color='#888';">â†º ZurÃ¼cksetzen auf 0</button>
    </div>

    <button class="add-btn" onclick="addDrink()">Rein in den Schlund!</button>

    <button class="vomit-btn" onclick="taciticalVomit()">ğŸ¤® Taktische Kotze!</button>

    <div class="result-box">
        <div>FÃ¼llstand Blase:</div>
        <div class="percentage" id="percentDisplay">0%</div>
        <div class="progress-bar-bg">
            <div class="progress-bar-fill" id="progressBar"></div>
        </div>
        <div class="status-text" id="statusText">Alles trocken, Oida.</div>
        <div style="font-size: 0.8em; margin-top: 5px; color: #888;">(Aktuell generierter Urin: <span id="mlDisplay">0</span> ml)</div>
        
        <div id="prognosis" style="margin-top: 15px; padding: 12px; background: rgba(255,183,3,0.1); border: 2px solid rgba(255,183,3,0.3); border-radius: 8px; font-size: 0.9em; color: var(--accent); line-height: 1.4;">
            ğŸº Tank ist leer! Zeit zum Auftanken!
        </div>
    </div>

    <div class="drink-list" id="drinkList">
        </div>

    <div class="footer">
        &copy; 2025 Stefan & Vicky<br>
        Nutzung auf eigene Gefahr. Hosenwechsel nicht inkludiert.<br>
        <button id="console-toggle" onclick="toggleDebugConsole()" style="margin-top: 8px; padding: 6px 12px; background: #2a2a2a; color: #888; border: 2px solid #444; border-radius: 6px; cursor: pointer; font-size: 0.85em; transition: all 0.2s;" onmouseover="this.style.background='#333'; this.style.borderColor='var(--accent)'; this.style.color='var(--accent)';" onmouseout="this.style.background='#2a2a2a'; this.style.borderColor='#444'; this.style.color='#888';">
            ğŸ› ï¸ Debug-Konsole
        </button>
    </div>
</div>

<!-- Debug-Konsole -->
<div id="debug-console" class="debug-console" style="display: none;">
    <div class="console-header">
        <div style="display: flex; align-items: center; gap: 10px;">
            <span style="font-weight: bold;">ğŸ› ï¸ Debug-Konsole</span>
            <span id="console-count" style="font-size: 0.8em; color: #888;">(0)</span>
        </div>
        <div style="display: flex; gap: 8px;">
            <button onclick="toggleConsoleSettings()" class="console-btn" title="Einstellungen">âš™ï¸</button>
            <button onclick="clearConsole()" class="console-btn" title="Leeren">ğŸ—‘ï¸</button>
            <button onclick="toggleConsoleLock()" id="console-lock-btn" class="console-btn" title="GrÃ¶ÃŸe sperren">ğŸ”“</button>
            <button onclick="toggleDebugConsole()" class="console-btn" title="SchlieÃŸen">&times;</button>
        </div>
    </div>
    <div id="console-settings" class="console-settings" style="display: none;">
        <label><input type="checkbox" id="show-log" checked onchange="updateConsoleFilters()"> Log</label>
        <label><input type="checkbox" id="show-info" checked onchange="updateConsoleFilters()"> Info</label>
        <label><input type="checkbox" id="show-warn" checked onchange="updateConsoleFilters()"> Warn</label>
        <label><input type="checkbox" id="show-error" checked onchange="updateConsoleFilters()"> Error</label>
        <label><input type="checkbox" id="show-timestamp" checked onchange="updateConsoleDisplay()"> Zeitstempel</label>
        <label>Position: 
            <select id="console-position" onchange="updateConsolePosition()">
                <option value="bottom">Unten</option>
                <option value="top">Oben</option>
            </select>
        </label>
    </div>
    <div id="console-resize-handle" class="console-resize-handle" style="display: none;" onmousedown="startConsoleResize(event)">â†•ï¸</div>
    <div id="console-output" class="console-output"></div>
</div>

<script src="script.js"></script>

</body>
</html>
